{
  "name": "send_upload_link",
  "description": "Generate a secure upload token and send an email and/or SMS with the upload portal link to a client. The client can use this link to upload their tax documents without needing to log in. The link is time-limited and unique to each client. Optionally configure personalized reminder timing preferences.",
  "inputSchema": {
    "type": "object",
    "properties": {
      "client_id": {
        "type": "string",
        "description": "The unique identifier of the client who should receive the upload link"
      },
      "days_valid": {
        "type": "integer",
        "description": "Number of days the upload link should remain valid. Must be between 1 and 90. Default is 30 days.",
        "default": 30,
        "minimum": 1,
        "maximum": 90
      },
      "custom_message": {
        "type": "string",
        "description": "Optional custom message from the accountant to include in the email. This will be added before the standard instructions."
      },
      "send_via": {
        "type": "string",
        "enum": ["email", "sms", "both"],
        "default": "both",
        "description": "Notification channel(s) to use. 'email' sends email only, 'sms' sends SMS only (if enabled), 'both' sends via both channels (if SMS is enabled for the client)."
      },
      "reminder_preferences": {
        "type": "object",
        "description": "Optional personalized reminder timing preferences for this client. If not provided, default schedule will be used (7, 14, 21, 30 days).",
        "properties": {
          "first_reminder_days": {
            "type": "integer",
            "description": "Days after upload link sent to send first reminder",
            "minimum": 1,
            "maximum": 90
          },
          "second_reminder_days": {
            "type": "integer",
            "description": "Days after upload link sent to send second reminder",
            "minimum": 1,
            "maximum": 90
          },
          "third_reminder_days": {
            "type": "integer",
            "description": "Days after upload link sent to send third reminder",
            "minimum": 1,
            "maximum": 90
          },
          "escalation_days": {
            "type": "integer",
            "description": "Days after upload link sent to escalate to accountant",
            "minimum": 1,
            "maximum": 90
          }
        }
      }
    },
    "required": ["client_id"]
  }
}
